# OpenSquare-基于区块链的开放协作及信用建设平台

## 1. 摘要
比特币、以太坊的蓬勃发展使人们意识到区块链的重大作用，区块链技术的合理应用可以保证历史数据的可信性及透明性，
而可信且透明的历史数据使得针对特定链上身份的行为检索成为可能。
行为是信誉的基础，特定的行为可以认为与一定的信誉挂钩。
OpenSquare致力于建设一个开放的协作平台，通过对平台上特定用户协作行为的追踪、检索及判断，其相应信誉可以被计算出来。
OpenSquare首先将支持众包的协作形式，记录参与者的行为，为每个参与用户建立信誉模型。

## 2. 背景

### 2.1 传统众包平台
众所周知，众包在全球范围内有很大的市场，同时全球也存在不计其数的众包平台。
这些平台连接任务的发布方和解决方，且大部分平台会记录用户的历史数据，给新的任务撮合提供信用参考，这在一定程度上解决了用户的问题。
但同时这些平台也存在中心化平台的一些弊端：
- 历史数据记录在中心化数据库中，真实性无法从数学层面保证。
- 各平台之间的数据各为孤岛，用户在多平台上积累的信用无法共享。
- 跨国支付问题。

### 2.2 基于区块链的众包平台
Gitcoin是一个基于以太坊智能合约的Bounty协作平台，其主要目标是帮助开源项目共享者从项目方获得报酬。
平台支持任何形式的ERC20代币，解决了传统平台的跨国支付问题。
其Bounty内容一般会同时记录在Github issue中，相应的Bounty创建、申请、结算信息也会通过智能合约调用记录在以太坊上。
我们认为Gitcoin解决了上述传统众包平台的问题，其在去中心协作方面给予了我们很多启示。尽管如此，我们认为Gitcoin仍然存在改进的空间：
- 在基于开源项目issue的bounty形式下，共享者无法获得最大化的利益。
  - Issue通常是开源项目中一个单独的问题，但贡献值解决该问题通常需要了解此开源项目的整体情况。共享者因此而付出的努力，远远大于解决某个issue得到的回报。
  - 某个开源项目通常不会连续的发布bounty，这使得该项目的贡献者无法持续的获得回报。
- 如上所述，Gitcoin依托于以太坊智能合约，任何用户想要参与进来的首要条件是要持有以太坊的品台币Ether。
即使以太坊有庞大的用户群体，我们认为这对于想要参与进来的普通用户而言，仍然可能是一个阻力。
- Bounty的管理方式有改进的空间。我们在Gitcoin上可以看到很多存在一年之久的Bounty没有得到解决且没有被处理，这不利于贡献者检索他们的目标bounty。

### 2.3 信用模型
当前应用最广的信用体系主要由政府部门主导，主要依赖于国民的金融行为，其可信程度以政府信用为背书。
中国蚂蚁金服推出的芝麻信用是比较典型的由第三方商业机构推出的信用服务，其征信依据也主要是信用方的商业行为。
以上都属于中心化的征信服务，天然存在需强大机构信用背书的问题，并且这些征信服务普遍以信用分的商业行为为依据，并不能完全反应信用方的职场信用及能力。

## 3. OpenSquare 概览

### 3.1 参与者
OpenSquare 首先要做的是建立一个基于区块链的众包平台，在该平台上任何人或组织可以发布任务，同时任何人或组织可以申请任务。
我们称任务为Bounty，任务发布者为Funder，任务申请者为Hunter。该平台主要包括以下参与者：
- Funder: 任务发布者，其参与目的主要是寻找能解决其问题的Hunter。
- Hunter：任务申请者，其参与的主要目的是利用自身技能或品质帮助Funder解决问题，获取对应的报酬。
- Council：管理委员会，其主要任务是审核Bounty的合规性，解决Funder与Hunter之间的纠纷。同时，Council会保管Bounty的服务费用，并决定如何利用以促进平台的发展。

### 3.2 优势
该平台将解决传统及现有基于区块链众包平台的问题，优越性主要体现在一下几方面。 

1. 开放性  
OpenSquare 会开发一条公链来承载其主要业务，只要生成公私钥对，并且持有平台代币就能参与到系统中来，无需传统平台要求的诸多身份信息、信用卡信息等。
开发并不意味着会被非法使用，Bounty的发布首先要经过Council的审核，审核通过后平台参与者才能看到，对于一些带有恶意、敏感信息的Bounty，Council不会允许其通过。

2. 数据透明且不可篡改  
这是区块链技术与生俱来的优势，平台参与者的任何行为都会以交易的形式保存在历史区块中，任何组织或个人都可以对历史数据进行检索、审计、跟踪。
这一特性也使得建立在此数据基础上的信用模型更有说服力。

3. 协作行为将更为高效  
Council扮演了Bounty审核、管理的角色，首先审核工作会确保Bounty有足够清晰的描述，再次对于长期无法解决或无人申请的Bounty，Council也会及时清理，
这保证了平台上信息的有效性，避免了过多无用信息的干扰。同时，参与者的过多不良行为将会对其信用起负面作用，这将对参与者的不良行为起到抑制作用。

### 3.3 信用及能力值建设是平台的首要目的  
如前文所述，行为是征信的基础。
OpenSquare平台上的行为主要是针对Bounty的协作行为，该行为以Bounty赏金为驱动，相对传统的购物等商业行为更能反映行为方在职场上的信用和能力。
且链上行为透明且不可篡改，这些特性使基于链上协作行为的信用及能力值建设非常有说服力。

信用建设是针对Funder和Hunter双方的，可靠的信用评估给Funder和Hunter提供了更可靠的挑选合作方的依据。

## 4. Bounty管理
我们致力于建设一个高效的协作网络，平台中应存在尽可能少的无用信息，以防止其对协作参与方的干扰。

### 4.1 通用描述格式：SDF
在协作过程中，协作方会产生大量的沟通信息，这些沟通信息可以作为协作方信用的凭证，因此，这些信息的凭证会保存在OpenSquare链上。
为便于统一处理，这些信息需符合一定的格式要求，我们称此格式为Square Description Format，简称SDF，
符合此标准的描述信息统称为Square Description，简称SD。
SDF规定描述内容主要分为两部分：
- 富文本：此项为必需内容，代表了沟通信息的富文本描述。
- 附件：此项为可选内容，当某项沟通信息需要更多文件帮助理解时，可添加此内容。

我们会暂时将SD保存在OpenSquare中心化服务器内，未来将逐步替换为去中心化存储的方式。链上会保存SD的哈希（SD Hash），SD的哈希计算会采取以下公式：  
<img style="margin: 20px 0 20px 0" src="https://render.githubusercontent.com/render/math?math=Hash(Hash(Rich%20Text)%20%2B%20Hash(Attachment))" />  
其中'Rich Text'代表富文本，'Attachment'代表附件。

### 4.2 Bounty基本内容
平台首要的协作模式基于Bounty展开，因此，协作中的最重要信息便是Bounty的描述信息。
该描述信息包括两个分类，基础数据（Metadata）和业务数据(Business Data)。

#### 4.2.1 基础数据
基础数据是Bounty的固有属性，这些属性是Bounty创建的必填项，主要包括以下几个元素：
- Funder：Bounty创建者。
- Currency：Bounty的计算数字货币，如DOT，BTC，DAI等。
- Price：以currency为单位的数字货币数量。
- SD Hash：Bounty描述内容的Hash（改描述内容符合SDF）。

#### 4.2.2 业务数据
业务数据服务于平台上层业务，如信息检索、Bounty协作等。随着业务的扩展，该部分数据有可能会扩充。前期业务数据主要包括：
- Category：Bounty的分类，如设计、文案、开发等。
- Report Schedule：表示Hunter得到Bounty授权后，对完成状况报告的时间表，如每天、每周等。

### 4.3 Bounty生命周期
下图展示了Bounty的大致生命周期，我们忽略了一些细节，如Hunter提交后和Funder的沟通细节等。

<img src="https://user-images.githubusercontent.com/2264908/89305456-3e359880-d6a1-11ea-9bdb-3f1b6c0edb8f.png" width="261" height="623">

#### 4.3.1 Bounty创建和审核
因为OpenSquare是一个开放Bounty协作平台，任何人只要持有平台原生资产作为手续费就可以创建Bounty，所以Bounty的质量可能参差不齐，
且有些Bounty可能存在并不符合法律规范、严重违反社会道德等情况。Bounty的质量无法以数学的手段进行验证，因此有必要引入Council来进行审核。
审核标准主要为：
- 符合法律法规及普遍社会道德标准。
- 对Bounty的内容有清楚描述，Bounty验收标准要有准确定义。
- Bounty给出的报酬不能严重市场价。

对于审核不通过的Bounty，平台不会展示给平台用户。对于因疏忽而遗漏信息等原因导致的创建失败的情况，Funder可以修改后重新创建新的Bounty。
Bounty一旦被创建，相应的数字资产就会被锁定；被解决后，相应部分资产会转给Hunter，同时Council会收取一定的服务费。

#### 4.3.2 Bounty的申请和授权
协作方的选择是双向的，Funder和Hunter都会担心遇到不守信用的合作方，
而OpenSquare历史交易中所保存的用户历史行为以及由此而产生的用户行为分数恰恰解决了此问题。
Hunter浏览可申请的Bounty列表时，可以同时看到Bounty的Funder，以及Funder的历史行为，
Hunter可以根据平台给出的行为信用指标来衡量该Funder的信用以决定要不要申请此Bounty。
同理，当一个Bounty有多个Hunter申请时，Bounty Funder则可查看各Hunter的历史行为及信用、能力指标来选择最适合Bounty的人选。

#### 4.3.3 提交、审核与仲裁
Bounty最终解决通常需要Hunter、Funder的多轮提交和审核，尽管Council对Bounty的交付标准有初始审核，但并不意味着交付标准在数学层面上可验证。
对Funder与Hunter之间纠纷的仲裁将是Council面临的最大挑战，这中间可能会涉及很多繁琐复杂的链下行为，
必要的时候Council会引入第三方权威机构甚至通过社区投票的方式来进行裁决。
但可以保证的是，Council的所有与仲裁判断相关的行为均会记录在链上，也会公开接受社区的监督。

## 5. 平台行为及信用

### 5.1 协作单元
可以把协作单元简单理解为参与方要共同完成的事情，如可以把"解决一个Bounty"看做是一个需要Funder、Hunter和Council共同来完成的协作单元。
一个大的协作单元可能会包括多个小的协作单元，如"解决一个Bounty"可能包括一个"进度汇报"的子协作单元。
所以，协作单元可能单独存在，也可能是以协作单元树的形式存在。

每个协作单元都有对应的结果集合，表示该单元的最终协作结果。如协作单元"进度汇报"的结果集合为`(是,否)`；
假设存在"Bounty完成评价"这个协作单元，表示Bounty完成后，Funder和Hunter的互相评价，那么该单元的结果集合为`(1,2,3,4,5)`。
我们定义平台行为为协作单元产生的具体结果，该行为可以直接用于用户信用的计算。

### 5.2 协作单元和行为的选取准则
我们再次强调，行为是征信的基础，合理地选择要追踪的行为、正确地判断出用户的行为是构建用户信用的保证。因此，对协作单元的选择至关重要，
平台中选择跟踪的协作单元需符合几项基本原则。
1. 能反应行为人的信用  
追踪行为的目的是为了衡量行为人的信用，如果此行为反应不了行为人某一方面的信用，则定义且追踪此行为无意义。
2. 可明确验证  
行为的产生需要有明确的触发标准。如Funder规定Hunter接受任务后须每周汇报进度，那么"汇报丢失"的类似定义为：
从Hunter接受任务开始，每67200个区块（假定出块时间为6s）内为一个汇报区间，任一一个汇报区间须有Hunter对该Bounty的进度汇报。如果在某一个汇报区间内没有Hunter的进度汇报，则平台认为该行为发生。
3. 影响可量化  
影响可量化是指该行为的产生所对应的信用影响可量化，如"汇报丢失"须对应明确的信用分数。

### 5.3 信用分数

#### 5.3.1 行为信用分数
行为是信用的最小衡量单元，信用是行为累积产生的，我们定义行为信用分数来更好的度量这种累积作用。行为信用分数有一下要点：
- 用户初始行为信用分数为0
- 每个平台行为对应一定的行为分数，这一分数可正可负，当行为发生时，该分数与行为信用分数相加得到最新的行为信用分数
- 行为信用分数没有上下限

#### 5.3.2 总体信用分数
如上所述，行为信用分数没有上下限，用户难以直接从行为信用分数来判断对应信用的高度。
因此，我们将行为信用分数标准化为(0 - 100)之间的数值，用户可以直观的通过该信用分数判断出合作方的信用值。
当行为信用分数不断增大时，总体信用分数趋近于100；当行为信用分数不断减小时，总体信用分数趋近于0。
可参考以下例图了解总体信用分数随行为信用分数的变化趋势。

<img src="https://user-images.githubusercontent.com/2264908/89855280-acf68280-dbc8-11ea-9b49-b1a9518dd32d.png" width="600" height="370">

  
随着协作行为及信用数据的不断增长，我们相信用户的总体信用分数将呈现正态分布。

#### 5.3.3 特征信用分数
行为是多样的，人的品质特征也是多样的，而不同的行为往往能够反映人的特定品质。如按时汇报、及时提交能够反映人的守时、守约的品格特征，
Hunter解决了某Funder的一个基于Rust的算法实现问题，那么该行为可以反映Hunter具备一定的Rust编码和算法能力。

针对不同的协作需求，参与方往往会侧重寻找具有某方面特征的合作方，因此我们引入特征信用分数来帮助平台用户实现该需求。
特征信用分数依赖于行为信用分数，首先，特征确定后，需选取与之对应的行为集合，集合内所有行为信用分数相加可得到总特征信用分数，
我们利用标准化函数将总特征信用分数映射为(0 - 100)区间内的值，便得到特征信用分数。
